<template>
  <h1>å¤§æµ·ä¸ªäººåŠ©ç†</h1>
  <el-button @click="bindEngineList">æœç´¢å¼•æ“å•†åº—</el-button>
  <el-input v-model="data.account"></el-input>
  <el-input v-model="data.password" type="password"></el-input>
  <el-button type="success" @click="bindLogin">ç™»å½•</el-button>
  <el-input v-model="user.token.value" disabled></el-input>
  <div>å¤´åƒ</div>
  <el-avatar :src="user.avatar.value"></el-avatar>
  <div>æœç´¢å¼•æ“</div>
  <div class="engine" v-for="(e, i) in engine.list.value" :key="i">
    {{ e.name }}
    <icon-app :name="e.icon"></icon-app>
  </div>
</template>

<script lang="ts" setup>
import user from '../../assets/store/user'
import engine from '../../assets/store/engine'

const data = reactive({
  account: '',
  password: '',
})
const bindLogin = async () => {
  await user.login(data.account, data.password)
  console.log('ğŸŒŠ', toRaw(user.markList.value))
}
const bindEngineList = async () => {
  for (const e of engine.list.value) {
    console.log('ğŸŒŠ', toRaw(e))
    break
  }
}
</script>
<style lang="scss">
.page-test {
  h1 {
    background-image: linear-gradient(45deg, var(--primary), var(--danger));
    background-clip: text;
    color: transparent;
    font-weight: 300;
  }
}
</style>
